/* =========================================================
   Hero Slider Block – full-width wrapper
   ========================================================= */

/* Break out of constrained layouts (front-end + editor) */
.icts-hero-slider-block.alignfull {
    position: relative;
    width: 100vw;
    max-width: 100vw;
    margin-left: calc(50% - 50vw) !important;
    margin-right: calc(50% - 50vw) !important;
}

/* Prevent parent layout from re-centering */
.icts-hero-slider-block.alignfull > .icts-hero-slider {
    margin: 0;
}

/* =========================================================
   Base hero slider container
   ========================================================= */

.icts-hero-slider {
    position: relative;
    width: 100%;
    color: var(--wp--preset--color--base, #ffffff);

    /* Layout tuning (XD spec) */
    --icts-hero-content-padding-inline: var(--wp--preset--spacing--medium, 1.5rem);
    --icts-hero-content-padding-top: clamp(3rem, 7vh, 4rem);
    --icts-hero-content-gap: 1.25rem;

    /* Indicators */
    --icts-hero-indicators-offset: 4rem; /* space under bars */
    --icts-hero-indicator-width: 117px;
    --icts-hero-indicator-height: 13px;
    --icts-hero-indicator-border-width: 2px;
    --icts-hero-indicator-radius: 2px;
}

/* Track / slide area */
.icts-hero-slider__track {
    width: 100%;
    /* XD spec height for desktop */
    height: 743px;
}

/* Flickity cells must fill width */
.icts-hero-slider__track .icts-hero-slider__slide {
    width: 100%;
}

.icts-hero-slider__slide {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

/* =========================================================
   Background image + overlay
   ========================================================= */

.icts-hero-slider__media {
    position: absolute;
    inset: 0;
    z-index: 1;
}

.icts-hero-slider__media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.icts-hero-slider__overlay {
    position: absolute;
    inset: 0;
    z-index: 2;
    background: linear-gradient(
        to right,
        rgba(0, 0, 0, 0.7) 0%,
        rgba(0, 0, 0, 0.45) 35%,
        rgba(0, 0, 0, 0.2) 60%,
        rgba(0, 0, 0, 0) 100%
    );
}

/* RTL: flip gradient direction */
:dir(rtl) .icts-hero-slider__overlay,
body.rtl .icts-hero-slider__overlay,
[dir="rtl"] .icts-hero-slider__overlay {
    background: linear-gradient(
        to left,
        rgba(0, 0, 0, 0.7) 0%,
        rgba(0, 0, 0, 0.45) 35%,
        rgba(0, 0, 0, 0.2) 60%,
        rgba(0, 0, 0, 0) 100%
    );
}

/* =========================================================
   Content area (page-width aligned, anchored low-left)
   ========================================================= */

.icts-hero-slider__content {
    position: relative;
    z-index: 3;

    width: 100%;
    /* Align to global content width (theme.json layout.contentSize) */
    max-width: var(--wp--style--global--content-size, 1200px);
    margin-inline: auto;

    /* Extra gutter to match XD spacing */
    padding-inline: var(--icts-hero-content-padding-inline);
    padding-block:
        var(--icts-hero-content-padding-top)
        calc(
            var(--icts-hero-indicators-offset) +
            var(--icts-hero-indicator-height) +
            var(--icts-hero-content-gap)
        );

    display: flex;
    flex-direction: column;
    justify-content: flex-end;      /* push stack towards bottom */
    align-items: flex-start;        /* left align */
    gap: var(--icts-hero-content-gap); /* equal spacing in the stack */

    min-height: 100%;               /* IMPORTANT: use full slide height */
}

/* RTL: align content to the right */
:dir(rtl) .icts-hero-slider__content,
body.rtl .icts-hero-slider__content,
[dir="rtl"] .icts-hero-slider__content {
    align-items: flex-start;
    text-align: right;
    direction: rtl;
}

.icts-hero-slider__title {
    margin: 0;
    font-weight: 600;
}

.icts-hero-slider__text {
    margin: 0;
}

/* Text column width – wider on desktop, full width on mobile */
/* Tighter reading measures to match design */
.icts-hero-slider__title { max-width: 28ch; }
.icts-hero-slider__text { max-width: 60ch; }
.icts-hero-slider__button { max-width: none; }

@media (max-width: 768px) {
    .icts-hero-slider__title,
    .icts-hero-slider__text,
    .icts-hero-slider__button {
        max-width: 100%;
    }
}

/* =========================================================
   CTA Button – inverted brand style
   ========================================================= */

.icts-hero-slider__button.wp-element-button {
    align-self: flex-start;
    margin-top: 0;
    background-color: var(--wp--preset--color--white);
    color: var(--wp--preset--color--brand-primary);
    border: 2px solid var(--wp--preset--color--white);
    font-weight: 500;
    padding-block: 0.5em;
    padding-inline: 1.4em;

    transition:
        background-color 0.2s ease,
        color 0.2s ease,
        border-color 0.2s ease,
        transform 0.15s ease,
        box-shadow 0.15s ease;
}

:dir(rtl) .icts-hero-slider__button.wp-element-button,
body.rtl .icts-hero-slider__button.wp-element-button,
[dir="rtl"] .icts-hero-slider__button.wp-element-button {
    align-self: flex-start;
}

.icts-hero-slider__button.wp-element-button:hover,
.icts-hero-slider__button.wp-element-button:focus-visible {
    background-color: var(--wp--preset--color--brand-primary);
    color: var(--wp--preset--color--white);
    border-color: var(--wp--preset--color--brand-primary);
}

.icts-hero-slider__button.wp-element-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
}

/* =========================================================
   Slide indicators (dashes) – content aligned
   ========================================================= */

.icts-hero-slider__indicators {
    position: absolute;
    left: 0;
    right: 0;
    /* Extra breathing room under the indicator bars (XD spec) */
    bottom: var(--icts-hero-indicators-offset);
    width: 100%;
    max-width: var(--wp--style--global--content-size, 1200px);
    margin-inline: auto;
    padding-inline: var(--icts-hero-content-padding-inline); /* align with hero content */
    display: flex;
    justify-content: flex-start;
    gap: 0.75rem;
    z-index: 4;
}

/* RTL: align indicators to the right */
:dir(rtl) .icts-hero-slider__indicators,
body.rtl .icts-hero-slider__indicators,
[dir="rtl"] .icts-hero-slider__indicators {
    direction: rtl;
    justify-content: flex-start;
}

.icts-hero-slider__indicator {
    background: transparent;
    border: 0;
    padding: 0;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
}

.icts-hero-slider__indicator-bar {
    width: var(--icts-hero-indicator-width);
    height: var(--icts-hero-indicator-height);
    border-radius: var(--icts-hero-indicator-radius);
    position: relative;
    overflow: hidden;
    opacity: 0.7;
    transition:
        opacity 0.2s ease;
}

/* Border */
.icts-hero-slider__indicator-bar::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    border: var(--icts-hero-indicator-border-width) solid rgba(255, 255, 255, 0.8);
    z-index: 1;
    pointer-events: none;
    transition: border-color 0.2s ease;
}

/* Timer fill */
.icts-hero-slider__indicator-bar::after {
    content: "";
    position: absolute;
    inset: var(--icts-hero-indicator-border-width);
    border-radius: inherit;
    background-color: #ffffff;
    transform: scaleX(0);
    transform-origin: left center;
    z-index: 0;
}

/* RTL: fill from the right */
:dir(rtl) .icts-hero-slider__indicator-bar::after,
body.rtl .icts-hero-slider__indicator-bar::after,
[dir="rtl"] .icts-hero-slider__indicator-bar::after {
    transform-origin: right center;
}

@keyframes icts-hero-indicator-fill {
    from { transform: scaleX(0); }
    to { transform: scaleX(1); }
}

/* Active slide */
.icts-hero-slider__indicator.is-active .icts-hero-slider__indicator-bar {
    opacity: 1;
}

.icts-hero-slider__indicator.is-active .icts-hero-slider__indicator-bar::before {
    border-color: #ffffff;
}

.icts-hero-slider__indicator.is-active .icts-hero-slider__indicator-bar::after {
    animation: icts-hero-indicator-fill var(--icts-hero-autoplay, 7000ms) linear forwards;
}

/* Pause the timer when the slider is hovered (matches Flickity pauseAutoPlayOnHover) */
.icts-hero-slider:hover .icts-hero-slider__indicator.is-active .icts-hero-slider__indicator-bar::after {
    animation-play-state: paused;
}

/* If autoplay is disabled (or motion reduced), keep the active bar filled without animating */
.icts-hero-slider.is-hero-no-autoplay .icts-hero-slider__indicator.is-active .icts-hero-slider__indicator-bar::after {
    animation: none;
    transform: scaleX(1);
}

@media (prefers-reduced-motion: reduce) {
    .icts-hero-slider__indicator.is-active .icts-hero-slider__indicator-bar::after {
        animation: none;
        transform: scaleX(1);
    }
}

/* Hover / focus */
.icts-hero-slider__indicator:hover .icts-hero-slider__indicator-bar,
.icts-hero-slider__indicator:focus-visible .icts-hero-slider__indicator-bar {
    opacity: 1;
}

/* =========================================================
   Responsive adjustments
   ========================================================= */



@media (max-width: 960px) {
    .icts-hero-slider {
        --icts-hero-content-padding-top: 2.5rem;
        --icts-hero-indicators-offset: 1.75rem;
        --icts-hero-indicator-width: 48px;
        --icts-hero-indicator-height: 5px;
        --icts-hero-indicator-border-width: 1px;
    }

    .icts-hero-slider__track {
        height: min(70vh, 480px);
        min-height: 360px;
    }
}
